<UserControl xmlns:my="clr-namespace:PrintFlow.SilverlightControls;assembly=PrintFlow.SilverlightControls"  x:Class="webprintDesigner.EditTemplate"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:CtrlKit1="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Toolkit"
    xmlns:Controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data.Input" 
    xmlns:Theme="syste" 
    xmlns:conv="clr-namespace:webprintDesigner.Converters"       
	xmlns:telerikQuickStart="clr-namespace:Telerik.Windows.Controls.QuickStart;assembly=Telerik.Windows.Controls"
    xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
    xmlns:System="clr-namespace:System;assembly=mscorlib" Margin="10" MaxWidth="1024">

    <UserControl.Resources>
        <conv:VisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <conv:TemplateActionNameConverter x:Key="ActionNameConverter" />
        <conv:TemplateStatusConverter x:Key="StatusConverter" />
        <conv:TemplateStatusConverterTooltip x:Key="StatusTooltipConverter" />
        <conv:StringToBrushConverter x:Key="StringToBrushConverter" />
        


        <SolidColorBrush x:Key="TileView_Background" Color="#FFFFFFFF" />
        <SolidColorBrush x:Key="TileView_OuterBorder" Color="#FF848484" />
        <SolidColorBrush x:Key="TileView_InneBorder" Color="#FFFFFFFF" />
        <Thickness x:Key="TileView_InneBorder_Thickness">1</Thickness>
        <SolidColorBrush x:Key="TileView_HeaderBorder" Color="#FFFFFFFF" />
        <Thickness x:Key="TileView_HeaderBorder_Thickness">0 0 0 1</Thickness>
        <LinearGradientBrush x:Key="TileView_HeaderBackground" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Color="#FFF6F6F6" />
            <GradientStop Offset="1" Color="#FFD2D2D2" />
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="TileView_ButtonBackground" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Color="#FF282828" />
            <GradientStop Offset="1" Color="#FF7C7C7C" />
        </LinearGradientBrush>
        <SolidColorBrush x:Key="TileView_ButtonOuterBorder" Color="#FFFFFFFF" />
        <LinearGradientBrush x:Key="TileView_ButtonBackground_MouseOver" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Offset="0" Color="#FFFEEDB7" />
            <GradientStop Offset="1" Color="#FFFACA6A" />
            <GradientStop Offset="0.526" Color="#FFFFC94A" />
            <GradientStop Offset="0.509" Color="#FFFEEDB7" />
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="TileView_ButtonBackground_Pressed" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Offset="0" Color="#FFFECE95" />
            <GradientStop Offset="1" Color="#FFFEB407" />
            <GradientStop Offset="0.517" Color="#FFFEBB6E" />
            <GradientStop Offset="0.539" Color="#FFE78318" />
        </LinearGradientBrush>
        <Style x:Key="maximizeToggleStyle" TargetType="telerik:RadToggleButton">
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Right" />
            <Setter Property="Width" Value="17" />
            <Setter Property="Height" Value="17" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="telerik:RadToggleButton">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused" />
                                    <VisualState x:Name="Unfocused" />
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Disabled" />
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RestoreIcon" Storyboard.TargetProperty="Fill">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TileView_ButtonBackground_MouseOver}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CollapseIcon" Storyboard.TargetProperty="Fill">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TileView_ButtonBackground_MouseOver}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RestoreIcon" Storyboard.TargetProperty="Fill">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TileView_ButtonBackground_Pressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CollapseIcon" Storyboard.TargetProperty="Fill">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TileView_ButtonBackground_Pressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CheckStates">
                                    <VisualState x:Name="Checked">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Restore" Storyboard.TargetProperty="Visibility">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Collapsed</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Collapse" Storyboard.TargetProperty="Visibility">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unchecked">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Restore" Storyboard.TargetProperty="Visibility">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Collapse" Storyboard.TargetProperty="Visibility">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Collapsed</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Indeterminate" />
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Grid x:Name="Restore"
							      Width="13"
							      Height="13"
							      Background="Transparent">
                                <ToolTipService.ToolTip>
                                    <ToolTip telerik:LocalizationManager.ResourceKey="TileViewItemMaximizeText" />
                                </ToolTipService.ToolTip>
                                <Path x:Name="RestoreIcon"
								      Margin="1"
								      Data="M2,5 L2,8.9999999 6,8.9999999 6,5 z M0,3 L8,3 8,5 8,8.9999999 8,11 0,11 0,8.9999999 0,5 z M3,0 L11,0 11,2 11,8.9999999 9,8.9999999 9,2 3,2 z"
								      Fill="{StaticResource TileView_ButtonBackground}"
								      Stretch="Fill"
								      Stroke="{x:Null}"
								      StrokeThickness="0.5" />
                                <Path Data="M1,12 L9,12 9,13 1,13 z M3.9999999,7 L3.9999999,9 6,9 6,7 z M3,6 L7,6 7,7 7,9 7,10 3,10 3,9 3,7 z M0,4 L1,4 1,12 0,12 z M12,1 L13,1 13,10 12,10 z M3,1 L3.9999999,1 3.9999999,3 10,3 10,4 10,10 12,10 12,11 10,11 10,12 9,12 9,4 1,4 1,3 3,3 z M3.9999999,0 L12,0 12,1 3.9999999,1 z"
								      Fill="{StaticResource TileView_ButtonOuterBorder}"
								      Stretch="Fill"
								      Stroke="{x:Null}"
								      StrokeThickness="0.5" />
                            </Grid>
                            <Grid x:Name="Collapse"
							      Width="12"
							      Height="5"
							      Background="Transparent"
							      Visibility="Collapsed">
                                <ToolTipService.ToolTip>
                                    <ToolTip telerik:LocalizationManager.ResourceKey="TileViewItemMinimizeText" />
                                </ToolTipService.ToolTip>
                                <Rectangle Fill="{StaticResource TileView_ButtonOuterBorder}"
								           Stroke="{x:Null}"
								           StrokeThickness="0.5" />
                                <Rectangle x:Name="CollapseIcon"
								           Margin="1"
								           Fill="{StaticResource TileView_ButtonBackground}"
								           Stroke="{x:Null}"
								           StrokeThickness="0.5" />
                            </Grid>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <CornerRadius x:Key="TileView_HeaderBorder_CornerRadius">1</CornerRadius>
        <SolidColorBrush x:Key="TileView_HeaderBorder_HorizontalSplitterBackground" Color="#FFBFBFBF" />
        <LinearGradientBrush x:Key="TileView_HeaderBorder_HorizontalSplitterOpacityMask" StartPoint="0.5,0" EndPoint="0.5,1">
            <GradientStop Offset="0" Color="Black" />
            <GradientStop Offset="1" />
        </LinearGradientBrush>
        <SolidColorBrush x:Key="DisabledBrush" Color="#99FFFFFF" />
        <CornerRadius x:Key="TileView_InneBorder_CornerRadius">1</CornerRadius>
        <CornerRadius x:Key="TileView_OuterBorder_CornerRadius">2</CornerRadius>
        <ImageBrush x:Key="ControlOuterBorder_Selected" Stretch="Fill"/>
        <Style x:Key="RadTileViewItemStyle" TargetType="telerik:RadTileViewItem">
            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
            <Setter Property="VerticalContentAlignment" Value="Stretch" />
            <Setter Property="Background" Value="{StaticResource TileView_Background}" />
            <Setter Property="BorderBrush" Value="{StaticResource TileView_OuterBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="7" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="telerik:RadTileViewItem">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
											                               Storyboard.TargetName="DisabledVisual"
											                               Storyboard.TargetProperty="Visibility">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="Visible" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="MouseOver" />
                                </VisualStateGroup>
                                <!--
									<VisualStateGroup x:Name="TileStates">
									<VisualState x:Name="Maximized">
									<Storyboard>
									<ObjectAnimationUsingKeyFrames Duration="0"
									Storyboard.TargetName="MaximizeToggleButton"
									Storyboard.TargetProperty="IsChecked">
									<DiscreteObjectKeyFrame KeyTime="0">
									<DiscreteObjectKeyFrame.Value>
									<System:Boolean>True</System:Boolean>
									</DiscreteObjectKeyFrame.Value>
									</DiscreteObjectKeyFrame>
									</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									</VisualState>
									<VisualState x:Name="Restored">
									<Storyboard>
									<ObjectAnimationUsingKeyFrames Duration="0"
									Storyboard.TargetName="MaximizeToggleButton"
									Storyboard.TargetProperty="IsChecked">
									<DiscreteObjectKeyFrame KeyTime="0">
									<DiscreteObjectKeyFrame.Value>
									<System:Boolean>False</System:Boolean>
									</DiscreteObjectKeyFrame.Value>
									</DiscreteObjectKeyFrame>
									</ObjectAnimationUsingKeyFrames>
									</Storyboard>
									</VisualState>
									</VisualStateGroup>
								-->
                                <VisualStateGroup x:Name="SelectionStates">
                                    <VisualState x:Name="Selected">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0"
											                               Storyboard.TargetName="SelectedItem"
											                               Storyboard.TargetProperty="Visibility">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="Visible" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unselected" />
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="outerBorder"
							        Margin="{TemplateBinding Padding}"
							        Background="{TemplateBinding Background}"
							        BorderBrush="{TemplateBinding BorderBrush}"
							        BorderThickness="{TemplateBinding BorderThickness}"
							        CornerRadius="{StaticResource TileView_OuterBorder_CornerRadius}">
                                <Border x:Name="outerContainer"
								        Background="Transparent"
								        BorderBrush="{StaticResource TileView_InneBorder}"
								        BorderThickness="{StaticResource TileView_InneBorder_Thickness}"
								        CornerRadius="{StaticResource TileView_InneBorder_CornerRadius}">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <StackPanel>
                                            <Border Background="{StaticResource TileView_HeaderBackground}"
											        BorderBrush="{StaticResource TileView_HeaderBorder}"
											        BorderThickness="{StaticResource TileView_HeaderBorder_Thickness}"
											        CornerRadius="{StaticResource TileView_HeaderBorder_CornerRadius}"
											        Padding="10 0 7 0">
                                                <Grid MinHeight="28">
                                                    <Border x:Name="GripBarElement" Background="Transparent">
                                                        <ContentPresenter x:Name="HeaderElement"
														                  Margin="0,0,10,0"
														                  HorizontalAlignment="Left"
														                  VerticalAlignment="Center"
														                  ContentTemplate="{TemplateBinding HeaderTemplate}" />
                                                    </Border>
                                                    <!--  This is the default Minimize/Maximize button  -->
                                                    <!--
														<telerik:RadToggleButton x:Name="MaximizeToggleButton"
														Command="tileView:TileViewCommands.ToggleTileState"
														Style="{StaticResource maximizeToggleStyle}" />
													-->
                                                    <StackPanel HorizontalAlignment="Right" Orientation="Horizontal"/>
                                                </Grid>
                                            </Border>
                                            <Border x:Name="Splitter"
											        Height="4"
											        Background="{StaticResource TileView_HeaderBorder_HorizontalSplitterBackground}"
											        BorderThickness="0"
											        OpacityMask="{StaticResource TileView_HeaderBorder_HorizontalSplitterOpacityMask}" />
                                        </StackPanel>
                                        <Grid Grid.Row="1" Background="Transparent">
                                            <ContentPresenter x:Name="ContentElement"
											                  Grid.Row="1"
											                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
											                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
											                  Content="{TemplateBinding Content}"
											                  ContentTemplate="{TemplateBinding ContentTemplate}" />
                                        </Grid>
                                        <Rectangle x:Name="DisabledVisual"
										           Grid.RowSpan="2"
										           Fill="{StaticResource DisabledBrush}"
										           RadiusX="4"
										           RadiusY="4"
										           Visibility="Collapsed" />
                                    </Grid>
                                </Border>
                            </Border>
                            <Grid x:Name="SelectedItem"
							      Margin="-1"
							      Visibility="Collapsed">
                                <Border Margin="{TemplateBinding Padding}"
								        BorderBrush="{StaticResource ControlOuterBorder_Selected}"
								        BorderThickness="2"
								        CornerRadius="{StaticResource TileView_OuterBorder_CornerRadius}" />
                            </Grid>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <LinearGradientBrush x:Key="headerbrush" EndPoint="1,0.5" StartPoint="0,0.5">
            <GradientStop Color="White" Offset="0" />
            <GradientStop Color="White" Offset="1" />
        </LinearGradientBrush>

        <Style TargetType="TextBlock" x:Key="txtheaderstyle">
            <Setter Property="FontSize" Value="20" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="FontFamily" Value="Calibri" />
            <Setter Property="Margin" Value="5,0,0,0" />
            <Setter Property="Foreground" Value="{StaticResource headerbrush}" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#FFAAAAAA" BlurRadius="7" />
                </Setter.Value>
            </Setter>
        </Style>

        <SolidColorBrush x:Key="HeaderButton_StrokeBrush" Color="#7F000000"/>
        <SolidColorBrush x:Key="ButtonArea_InnerBorderBrush" Color="#99FFFFFF"/>
        <SolidColorBrush x:Key="ButtonArea_OuterBorderBrush" Color="#99000000"/>

        <LinearGradientBrush x:Key="CloseButton_OverBackgroundBrush" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#FFF2C7BF" Offset="0"/>
            <GradientStop Color="#FFE5715D" Offset="0.5"/>
            <GradientStop Color="#FFB62107" Offset="0.5"/>
            <GradientStop Color="#FFF1D86C" Offset="1"/>
            <GradientStop Color="#FFD26324" Offset="0.85"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="CloseButton_PressedBackgroundBrush" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#FFC6A18A" Offset="0"/>
            <GradientStop Color="#FF974126" Offset="0.5"/>
            <GradientStop Color="#FF5E1002" Offset="0.5"/>
            <GradientStop Color="#FFE6BA15" Offset="1"/>
            <GradientStop Color="#FF764708" Offset="0.85"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="CloseButton_NormalBackgroundBrush" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#FFF4CAC2" Offset="0"/>
            <GradientStop Color="#FFCC7D6D" Offset="0.5"/>
            <GradientStop Color="#FFB94630" Offset="0.5"/>
            <GradientStop Color="#FFF4B19C" Offset="1"/>
            <GradientStop Color="#FFBE7360" Offset="0.85"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="CloseButton_ShadowOpacityMaskBrush" EndPoint="0,0.5" StartPoint="1,0.5" MappingMode="RelativeToBoundingBox">
            <GradientStop Color="#99FFFFFF" Offset="0.09"/>
            <GradientStop Color="#99FFFFFF" Offset="0.861"/>
            <GradientStop Color="#00FFFFFF" Offset="0"/>
            <GradientStop Color="#00FFFFFF" Offset="0.98682502596053989"/>
        </LinearGradientBrush>

        <LinearGradientBrush x:Key="HeaderButton_FillBrush" EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="#FFFDFDFD" Offset="0"/>
            <GradientStop Color="#FFDDDDDD" Offset="0.5"/>
        </LinearGradientBrush>

        <Style x:Key="CloseButtonStyle2" TargetType="Button">
            <Setter Property="IsEnabled" Value="true"/>
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="MinWidth" Value="5"/>
            <Setter Property="MinHeight" Value="5"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Cursor" Value="Arrow"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Unfocused"/>
                                    <VisualState x:Name="Focused"/>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource CloseButton_OverBackgroundBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="ShadowOver" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource CloseButton_PressedBackgroundBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled"/>
                                    <VisualState x:Name="Normal"/>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Border x:Name="OuterBorder" HorizontalAlignment="Left" Width="39" Background="Transparent" CornerRadius="0,0,3,0">
                                <Border BorderBrush="#99FFFFFF" BorderThickness="0" CornerRadius="0,0,3,0"/>
                            </Border>
                            <ContentPresenter Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
                            <StackPanel x:Name="ShadowOver" Height="41.695" Margin="-20 -4 -15 -15" Width="53.57" IsHitTestVisible="False" Visibility="Collapsed">
                                <Rectangle Stroke="Transparent" StrokeThickness="10" RadiusX="4" RadiusY="4" Height="25.915" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" Width="53.57" OpacityMask="{StaticResource CloseButton_ShadowOpacityMaskBrush}"/>
                                <Rectangle Stroke="Transparent" StrokeThickness="10" Height="41.695" HorizontalAlignment="Left" Margin="15 -34 0 0" VerticalAlignment="Top" Width="24.046" RenderTransformOrigin="0.5,0.5">
                                    <Rectangle.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform ScaleX="0.66713942516425861" ScaleY="1.4989370471603993"/>
                                            <SkewTransform AngleX="0" AngleY="0"/>
                                            <RotateTransform Angle="90"/>
                                            <TranslateTransform X="0" Y="0"/>
                                        </TransformGroup>
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                            </StackPanel>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>
    <Grid x:Name="LayoutRoot">
        <Grid.Resources>

            <LinearGradientBrush x:Key="BorderGradient" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Color="#7E7E7E" Offset="0"/>
                <GradientStop Color="#7E7E7E" Offset="0.5"/>
                <GradientStop Color="#313131" Offset="0.5"/>
                <GradientStop Color="#313131" Offset="1"/>
            </LinearGradientBrush>

            <LinearGradientBrush x:Key="FilterArea_borderbackground" EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="#FFC9C9C9" Offset="0"/>
                <GradientStop Color="#FFB5B5B5" Offset="1"/>
            </LinearGradientBrush>

            <LinearGradientBrush x:Key="FilterArea_borderbrush" EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="#FFCCCCCC" Offset="0"/>
                <GradientStop Color="#FFA5A6A9" Offset="0.993"/>
                <GradientStop Color="#FFB1B2B4" Offset="0.554"/>
            </LinearGradientBrush>


            <Style x:Key="TitleBarBorderStyle" TargetType="Border">
                <Setter Property="CornerRadius" Value="10,10,0,0"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>
                <Setter Property="Height" Value="44"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Background" Value="{StaticResource BorderGradient}"/>
            </Style>

            <Style x:Key="ContentGridBorderStyle" TargetType="Border">
                <Setter Property="CornerRadius" Value="0"/>
                <Setter Property="Padding" Value="8,0,8,0"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Background" Value="#313131"/>
            </Style>

            <Style x:Key="GridViewScrollViewrStyle" TargetType="ScrollViewer">
                <Setter Property="Margin" Value="0"/>
                <Setter Property="MinHeight" Value="513"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>
                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Background" Value="White"/>
                <Setter Property="HorizontalScrollBarVisibility" Value="Hidden"/>
                <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
            </Style>

            <Style x:Key="PageBottomRowStyle" TargetType="Border">
                <Setter Property="CornerRadius" Value="0,0,8,8"/>
                <Setter Property="Height" Value="35"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="Margin" Value="0,0,0,0"/>
                <Setter Property="Background" Value="#313131"/>
            </Style>

            <Style x:Key="FilterArea_Style" TargetType="Border">
                <Setter Property="CornerRadius" Value="0"/>
                <Setter Property="Height" Value="65"/>
                <Setter Property="BorderThickness" Value="2"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="Margin" Value="0"/>
                <Setter Property="Background" Value="{StaticResource FilterArea_borderbackground}"/>
                <Setter Property="BorderBrush" Value="{StaticResource FilterArea_borderbrush}"/>
            </Style>

            <Style x:Key="SearchTextLabelStyle" TargetType="Controls:Label">
                <Setter Property="FontSize" Value="12" />
                <Setter Property="FontFamily" Value="Calibri" />
                <Setter Property="Foreground" Value="#FF4E4D4D" />
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="White" BlurRadius="0" ShadowDepth="2" Direction="335"/>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="FilterAreaSearchBorderStyle" TargetType="Border">
                <Setter Property="CornerRadius" Value="10"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="Height" Value="25"/>
                <Setter Property="Width" Value="350"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Margin" Value="20,0,0,0"/>
                <Setter Property="BorderBrush" Value="#9C8D8E8F"/>
                <Setter Property="Background">
                    <Setter.Value>
                        <RadialGradientBrush>
                            <GradientStop Color="#FFF3F3F3" Offset="1"/>
                            <GradientStop Color="White"/>
                        </RadialGradientBrush>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="ContentGridStyle" TargetType="Grid">
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="VerticalAlignment" Value="Stretch"/>
                <Setter Property="Background">
                    <Setter.Value>
                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                            <GradientStop Color="White" Offset="0"/>
                            <GradientStop Color="white" Offset="1"/>
                        </LinearGradientBrush>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="FormLabel" TargetType="TextBlock">
                <Setter Property="FontSize" Value="18.667" />
                <Setter Property="Foreground" Value="#3167CB"/>
                <Setter Property="FontFamily" Value="Candara"/>
                <Setter Property="Margin" Value="0,10,0,0"/>
            </Style>

            <Style x:Key="FormBorder" TargetType="Border">
                <Setter Property="BorderBrush" Value="#3167CB" />
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="VerticalAlignment" Value="Bottom"/>
                <Setter Property="BorderThickness" Value="0,0,0,2"/>
                <Setter Property="Margin" Value="0,0,0,7"/>
            </Style>

           

          

        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="44"/>
            <RowDefinition  Height="*"/>
            <RowDefinition Height="35"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Row="0" Style="{StaticResource TitleBarBorderStyle}" >
            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="56"/>
                </Grid.ColumnDefinitions>
                <StackPanel HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="Transparent" Orientation="Horizontal"  >
                    <Image Height="38" Width="36" Source="/webprintDesigner;component/Images/Library.png" Margin="5,0,0,0"/>
                    <TextBlock x:Name="lblProductName"  Style="{StaticResource txtheaderstyle}" />

                </StackPanel>
                <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Button x:Name="PART_CloseButton" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="22" Width="41" HorizontalAlignment="Center" Margin="0,0,10,0" Style="{StaticResource CloseButtonStyle2}" VerticalAlignment="Center" Click="btnGotoProfile_Click" >
                        <Grid HorizontalAlignment="Center" Margin="0,3,0,3" VerticalAlignment="Center" Width="15">
                            <Path Fill="{StaticResource HeaderButton_FillBrush}" Stretch="Fill" Stroke="{StaticResource HeaderButton_StrokeBrush}" HorizontalAlignment="Center" Width="15" Data="M1.7378059,0.5 L2.6141474,0.5 C3.1662261,0.50000006 3.8039908,0.75809938 4.4048114,1.5 4.5550169,1.685475 4.9485269,2.160322 5.4658298,2.7821105 L5.4860015,2.8063081 5.5061731,2.7821105 C6.0234754,2.1603227 6.4169869,1.6854752 6.5671916,1.5 7.1680121,0.75809938 7.805777,0.50000006 8.3578553,0.5 L9.2341971,0.5 C9.7862759,0.50000006 10.979304,0.58072393 10.233824,1.5 9.8610825,1.9596381 8.6079334,3.4697623 7.345519,4.9849148 L7.3238601,5.0108548 9.0990157,7.1366935 C9.6334218,7.7765244 10.052589,8.2784384 10.237003,8.5 10.974663,9.3862554 9.7894541,9.5 9.2373757,9.5 L8.3610196,9.5 C7.8089409,9.5 7.3899587,9.4595025 6.5703706,8.5 6.4679222,8.3800621 6.3116059,8.195097 6.1150331,7.9614411 L5.4860015,7.2116037 4.8569698,7.9614411 C4.6603975,8.195097 4.5040812,8.3800621 4.4016328,8.5 3.5820441,9.4595032 3.1630621,9.5 2.6109833,9.5 L1.7346272,9.5 C1.1825502,9.5 -0.0026579946,9.3862555 0.73499992,8.5 0.91941352,8.2784385 1.338581,7.7765249 1.8729872,7.1366935 L3.6481428,5.0108552 3.6264839,4.9849148 C2.36407,3.4697629 1.1109188,1.9596384 0.73817882,1.5 -0.0073020967,0.58072303 1.1857272,0.50000006 1.7378059,0.5 z"/>
                        </Grid>
                    </Button>
                </StackPanel>

            </Grid>
        </Border>

        <Border Grid.Row="1" Style="{StaticResource ContentGridBorderStyle}">
            <Grid x:Name="ContentGrid" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Style="{StaticResource FilterArea_Style}">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Right" Orientation="Horizontal" >

                        <Button IsEnabled="False" Padding="0"  Height="30" HorizontalAlignment="Left" Name="btnDelete" VerticalAlignment="Center" Click="btnDelete_Click" Visibility="Collapsed" Margin="10,0,40,0" >
                            <Button.Content>
                                <Image Source="/webprintDesigner;component/Images/DELETEbtn.png"  Margin="0">

                                </Image>
                            </Button.Content>
                        </Button>

                        <Button IsEnabled="False" Height="30"   HorizontalAlignment="Left" Name="btnSave" VerticalAlignment="Center"  Click="btnSave_Click" Visibility="Collapsed" Margin="10,0,0,0" Padding="0" >
                            <Button.Content>
                                <Image Source="/webprintDesigner;component/Images/SAVEbtn.png"  Margin="0">

                                </Image>
                            </Button.Content>
                        </Button>
                        <Button IsEnabled="False" Content="Submit for Approval" Height="30" HorizontalAlignment="Left" Margin="10,0,0,0" Name="btnSubmit" VerticalAlignment="Center" Width="120" Click="btnSubmit_Click" Visibility="Collapsed" />
                        <Button Content="Approve" Height="30" HorizontalAlignment="Left" Margin="10,0,0,0" Name="btnApprove" VerticalAlignment="Center" Width="60"  Click="btnApprove_Click" Visibility="Collapsed" />
                        <Button IsEnabled="False" Content="Reject" Height="30" HorizontalAlignment="Left" Margin="10,0,0,0" Name="btnReject" VerticalAlignment="Center" Width="60"  Click="btnReject_Click" Visibility="Collapsed" />
                        
                        <Button IsEnabled="False" Padding="0"  Height="30" HorizontalAlignment="Right" Margin="10,0,0,0" Name="btnEdit" VerticalAlignment="Top" Visibility="Collapsed" Click="btnEdit_Click" >
                            <Button.Content>
                                <Image Source="/webprintDesigner;component/Images/EDIT.png"  Margin="0">
                                  
                                </Image>
                            </Button.Content>
                          
                        </Button>
                        <!--Style="{StaticResource OrangeButton}"-->

                    </StackPanel>
                </Border>

                <Grid x:Name="LayoutMain" Grid.Column="1" Grid.Row="2"  Background="Transparent" SizeChanged="LayoutMain_SizeChanged" MouseLeftButtonUp="LayoutMain_MouseLeftButtonUp" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                    <Grid Name="grdMatchingSets" Style="{StaticResource ContentGridStyle}" Visibility="Collapsed">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="10"/>
                            
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="10" />
                            <RowDefinition Height="*" />

                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="1" Grid.Column="1">

                            <Grid Style="{StaticResource ContentGridStyle}" Margin="0"  HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="auto" Width="auto"  Grid.Column="3" Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="155"/>
                                    <ColumnDefinition Width="7" />
                                    <ColumnDefinition Width="230"/>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="7" />
                                    <ColumnDefinition Width="230"/>
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <Border Grid.ColumnSpan="7" Grid.Row="0"  Grid.Column="0"  Style="{StaticResource FormBorder}"  BorderThickness="0,0,0,2" Margin="0,0,0,7">
                                    <TextBlock Text="Matching Set Details" Style="{StaticResource FormLabel}" />
                                </Border>

                                <TextBlock HorizontalAlignment="Right" Text="Matching Set" Grid.Row="2" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBox Height="23" HorizontalAlignment="Left"  Name="txtMatchingSet" Width="200" Grid.Column="2" Grid.Row="2" VerticalAlignment="Center" Style="{StaticResource INFEditableTextBoxStyle}" Margin="0 8 0 8" />

                                <TextBlock HorizontalAlignment="Right" Text="Template/Matching Set Name" Grid.Row="1" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" FontWeight="Bold"  Margin="0 8 0 8" />
                                <TextBox Height="23" HorizontalAlignment="Left"  Name="txtTemplateName2" Width="200" Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" Style="{StaticResource INFEditableTextBoxStyle}" FontSize="13" Margin="0 8 0 8" />

                                <TextBlock Grid.Column="3" HorizontalAlignment="Right"  Name="lblSubmittedLabel2" Text="Submitted  By" Grid.Row="1"   VerticalAlignment="Center"  Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBlock Grid.Column="5"  HorizontalAlignment="Left"  Name="lblSubtmittedByLabel2" Text="submitter"  Grid.Row="1" VerticalAlignment="Center"  Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />

                                <TextBlock Grid.Row="2" Grid.Column="3" HorizontalAlignment="Right"  Name="lblApproveLabel2" Text="Approved By"  VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBlock Grid.Row="2" Grid.Column="5"  HorizontalAlignment="Left" Name="lblApprovedByLabel2" Text="approver" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />

                                <TextBlock Grid.Row="3" Grid.Column="3"  HorizontalAlignment="Right"  Name="lblRejectLabel2" Text="Rejection Reason" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBlock Grid.Row="3" Grid.Column="5" Height="Auto" HorizontalAlignment="Left" Margin="0 8 0 8" VerticalAlignment="Center" Name="lblRejectedByLabel2" Text="rejected"  Style="{StaticResource FormTextBlockStyle}"  />

                                <TextBlock Name="lblAdminRating2" Height="15" Grid.Row="4" HorizontalAlignment="Center" Margin="0 15 0 0"  Text="Template Rating" VerticalAlignment="Top"  Style="{StaticResource FormTextBlockStyle}" />
                                <telerik:RadRating  NumberOfItemsToGenerate="5" Grid.Column="2" Grid.Row="4" Height="20" Margin="0 5 0 0" Name="rdrAdminRating2" Value="0" VerticalAlignment="Top" HorizontalAlignment="Center" Width="110"  />


                            </Grid>
                            <Border Style="{StaticResource FormBorder}" HorizontalAlignment="Stretch"  BorderThickness="0,0,0,2" Margin="0,0,0,7">
                                <TextBlock Text="Matching Set Templates" Style="{StaticResource FormLabel}" HorizontalAlignment="Left"/>
                            </Border>
                            
                            
                            
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Width="200" FontSize="12" FontWeight="Bold" Margin="15 0 0 0">Category</TextBlock>
                                <TextBlock Width="90" FontSize="12" FontWeight="Bold" Margin="15 0 0 0" TextWrapping="Wrap">Template Status</TextBlock>
                                <TextBlock Width="200" FontSize="12" FontWeight="Bold" Margin="15 0 0 0">Action</TextBlock>
                            </StackPanel>


                            <ListBox   x:Name="datagrdMatchingSetDetails"  BorderThickness="0"  Width="Auto"  Height="Auto" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                 Background="Transparent">
                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <CtrlKit1:WrapPanel Orientation="Vertical"  />
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>


                            <ListBox.ItemTemplate>
                                <DataTemplate >
                                    <Border Padding="0" BorderBrush="LightGray" BorderThickness="0" >
                                        <StackPanel Orientation="Horizontal">
                                            
                                            <TextBlock  x:Name="tbProductName" Width="200" Grid.Column="0" Grid.Row="1" Tag="{Binding Path=ProductID}" Text="{Binding Path=CategoryName}" TextAlignment="Left" TextWrapping="Wrap" Foreground="Black" Height="auto" FontSize="12"  HorizontalAlignment="Left" Cursor="Hand"   Margin="15 0 0 0"></TextBlock>
                                                <Image Margin="15 0 66 0" Source="{Binding ProductID, Converter={StaticResource StatusConverter}, Mode=OneWay}" Height="24" Width="24" ToolTipService.ToolTip="{Binding ProductID, Converter={StaticResource StatusTooltipConverter}, Mode=OneWay}"></Image>

                                                <TextBlock  x:Name="lnkTemplateAction" Width="300" Grid.Column="0" Grid.Row="2"  Foreground="Blue" Tag="{Binding}"   Text="{Binding ProductID, Converter={StaticResource ActionNameConverter}, Mode=OneWay}" TextAlignment="Left" TextWrapping="Wrap"  Height="auto" FontSize="10"   HorizontalAlignment="Left" Cursor="Hand"   Margin="15 0 0 0" MouseLeftButtonDown="lnkTemplateAction_MouseLeftButtonDown"  ></TextBlock>


                                            </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                            <Grid Style="{StaticResource ContentGridStyle}" Margin="0"  HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="auto" Width="auto" Name="grdLeftUp2" Grid.Column="3" Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="155"/>
                                    <ColumnDefinition Width="7" />
                                    <ColumnDefinition Width="230"/>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="7" />
                                    <ColumnDefinition Width="230"/>
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="auto"/>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <Border Grid.ColumnSpan="7" Grid.Row="7"  Grid.Column="0"  Style="{StaticResource FormBorder}"  BorderThickness="0,0,0,2" Margin="0,0,0,7">
                                    <TextBlock Text=" Filtering Information" Style="{StaticResource FormLabel}" />
                                </Border>

                                <TextBlock HorizontalAlignment="Right" Text="Narrative Tag" Grid.Row="8" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBox Height="23" HorizontalAlignment="Left"  Name="txtNarrativeTag2" Width="200" Grid.Column="2" Grid.Row="8" VerticalAlignment="Center" Style="{StaticResource INFEditableTextBoxStyle}" Margin="0 8 0 8" />

                                <TextBlock  HorizontalAlignment="Right"   Text="Base Colors" Grid.Row="8" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <ComboBox Height="23" HorizontalAlignment="Left"  Name="cboBaseColors2" VerticalAlignment="Center" Width="200" Grid.Column="5" Grid.Row="8" Margin="0 8 0 8" />

                                <TextBlock Height="17" HorizontalAlignment="Right"   Text="Industry Tags" Grid.Row="9" VerticalAlignment="Top" Style="{StaticResource FormTextBlockStyle}"  Margin="0 8 0 8"/>
                                <ListBox x:Name="lstbxIndustryTags2" Height="250" Grid.Column="2" Grid.Row="9"  Width="200"  HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0 8 0 8">

                                    <ListBox.ItemTemplate>

                                        <DataTemplate>

                                            <StackPanel x:Name="spIndustry" Orientation="Horizontal" Width="180" VerticalAlignment="Top" HorizontalAlignment="Left">

                                                <CheckBox Content="{Binding TagID}" IsChecked="{Binding selected,Mode=TwoWay}" Width="14" Height="14" Margin="2,2,0,0" ClickMode="Press" ></CheckBox>

                                                <TextBlock Text="{Binding TagName}" FontSize="12" FontFamily="Arial" Margin="5,0,0,0"></TextBlock>

                                            </StackPanel>

                                        </DataTemplate>

                                    </ListBox.ItemTemplate>

                                </ListBox>

                                <TextBlock  HorizontalAlignment="Right" Text="Style Tags" VerticalAlignment="Top" Grid.Row="9" Grid.Column="3" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <ListBox x:Name="lstbxStyleTags2" Height="250" Grid.Column="5" Grid.Row="9" Width="200" Margin="0 8 0 8" HorizontalAlignment="Left" VerticalAlignment="Center" >
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel x:Name="spStyle" Orientation="Horizontal" Width="180" VerticalAlignment="Top" HorizontalAlignment="Left">
                                                <CheckBox Content="{Binding TagID}" IsChecked="{Binding selected,Mode=TwoWay}" Width="14" Height="14" Margin="2,2,0,0" ClickMode="Press"></CheckBox>
                                                <TextBlock Text="{Binding TagName}" FontSize="12" FontFamily="Arial" Margin="5,0,0,0"></TextBlock>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>

                            </Grid>

                        </StackPanel>



                    </Grid>
                    <Grid Name="grdProducts" Style="{StaticResource ContentGridStyle}" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="Auto"/>
                            
                            <ColumnDefinition Width="15" />
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="10" />
                            <RowDefinition Height="*" />
                           
                            
                            
                            
                    </Grid.RowDefinitions>

                        <StackPanel Grid.Column="3" Grid.Row="1" Height="Auto" Width="Auto" HorizontalAlignment="Stretch">
                            <Border Grid.Column="3" Grid.Row="1" Style="{StaticResource FormBorder}" HorizontalAlignment="Stretch"  BorderThickness="0,0,0,2" Margin="0,0,0,7">
                                <TextBlock Text="Template Information" Style="{StaticResource FormLabel}" HorizontalAlignment="Left"/>
                            </Border>
                            <Grid Style="{StaticResource ContentGridStyle}" Margin="0"  HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="auto" Width="auto" Name="grdLeftUp" Grid.Column="3" Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="155"/>
                                <ColumnDefinition Width="7" />
                                <ColumnDefinition Width="230"/>
                                <ColumnDefinition Width="70"/>
                                <ColumnDefinition Width="7" />
                                <ColumnDefinition Width="230"/>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="auto"/>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="*" />

                                </Grid.RowDefinitions>
                                <TextBlock  HorizontalAlignment="Right"  Text="Template Status" VerticalAlignment="Center" Grid.Row="1" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBlock Height="23" HorizontalAlignment="Left"  Name="tbStatus" Text="draft" VerticalAlignment="Center" Grid.Row="1" Style="{StaticResource FormTextBlockStyle}" Grid.Column="2" Margin="2,8,0,8" />

                                <TextBlock Visibility="Collapsed"  HorizontalAlignment="Right" Text="Matching Set" VerticalAlignment="Center" Grid.Row="2" Style="{StaticResource FormTextBlockStyle}" FontWeight="Bold" Margin="0 8 0 8" />
                                <ComboBox Visibility="Collapsed" Height="23" HorizontalAlignment="Left"  Name="cboMatchingSet" VerticalAlignment="Center" Width="200" Grid.Column="2" Grid.Row="2" Margin="0 8 0 8" SelectionChanged="cboMatchingSet_SelectionChanged" />

                                <TextBlock  HorizontalAlignment="Right" Text="Category" VerticalAlignment="Center" Grid.Row="3" Style="{StaticResource FormTextBlockStyle}" FontWeight="Bold" Margin="0 8 0 8" />
                                <ComboBox Height="23" HorizontalAlignment="Left"  Name="cboCategory" VerticalAlignment="Center" Width="200" Grid.Column="2" Grid.Row="3" Margin="0 8 0 8" SelectionChanged="cboCategory_SelectionChanged"  />

                                <TextBlock  HorizontalAlignment="Right" Text="Template/Matching Set Name" VerticalAlignment="Center" Grid.Row="0" Style="{StaticResource FormTextBlockStyle}" TextWrapping="Wrap" FontWeight="Bold" Margin="0 8 0 8" />
                                <!--<TextBox Height="23" HorizontalAlignment="Left" Name="txtTemplateName" VerticalAlignment="Center" Width="200" Grid.Column="2" Grid.Row="3" Style="{StaticResource INFEditableTextBoxStyle}" Margin="0 8 0 8" />-->
                                <sdk:AutoCompleteBox x:Name="txtTemplateName" IsTextCompletionEnabled="True" FontWeight="Bold" MinimumPopulateDelay="200" MinimumPrefixLength="2"  VerticalAlignment="Center" Width="200" Grid.Column="2" Grid.Row="0" Margin="0 8 0 8" HorizontalAlignment="Left" />

                                <TextBlock HorizontalAlignment="Right"  Name="lblSubmittedLabel" Text="Submitted  By" Grid.Row="4"  VerticalAlignment="Center"  Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBlock Grid.Column="2"  HorizontalAlignment="Left"  Name="lblSubtmittedByLabel" Text="submitter"  Grid.Row="4" VerticalAlignment="Center"  Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />

                                <TextBlock Grid.Row="5" HorizontalAlignment="Right"  Name="lblApproveLabel" Text="Approved By"  VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBlock Grid.Row="5" Grid.Column="2"  HorizontalAlignment="Left" Name="lblApprovedByLabel" Text="approver" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />

                                <TextBlock Grid.Row="6" Grid.Column="2" Height="Auto" HorizontalAlignment="Left" Margin="0 8 0 8" VerticalAlignment="Center" Name="lblRejectedByLabel" Text="rejected"  Style="{StaticResource FormTextBlockStyle}" Foreground="Red" />
                                <TextBlock Grid.Row="6" Grid.Column="0"  HorizontalAlignment="Right"  Name="lblRejectLabel" Text="Rejection Reason" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                            
                                <Border Grid.ColumnSpan="3" Grid.Row="7"  Grid.Column="0"  Style="{StaticResource FormBorder}"  BorderThickness="0,0,0,2" Margin="0,0,0,7">
                                    <TextBlock Text=" Filtering Information" Style="{StaticResource FormLabel}" />
                                </Border>

                                <TextBlock HorizontalAlignment="Right" Text="Narrative Tag" Grid.Row="8" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBox Height="80" HorizontalAlignment="Left" TextWrapping="Wrap" Name="txtNarrativeTag" Width="200" Grid.Column="2" Grid.Row="8"  VerticalAlignment="Center"  Style="{StaticResource INFEditableTextBoxStyle}" Margin="0 8 0 8" />

                                <TextBlock HorizontalAlignment="Right" Text="Base Color" Grid.Row="9" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <ComboBox  Height="23" HorizontalAlignment="Left"  Name="cboBaseColors" VerticalAlignment="Center" Width="200" Grid.Column="2" Grid.Row="9" Margin="0 8 0 8" >
                                    <ComboBox.ItemTemplate>
                                       
                                        <DataTemplate>
                                          
                                            <Canvas Background="{Binding HEX, Converter={StaticResource StringToBrushConverter}}" Width="160" Height="18"></Canvas>
                       
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>


                                </ComboBox>

                                <TextBlock Height="17" HorizontalAlignment="Right"  Grid.Column="3" Text="Industry Tags" Grid.Row="0" VerticalAlignment="Top" Style="{StaticResource FormTextBlockStyle}"  Margin="0 8 0 8"/>
                                <ListBox x:Name="lstbxIndustryTags" Height="450" Grid.Column="5" Grid.Row="0" Grid.RowSpan="12"  Width="200"  HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0 8 0 8">

                                    <ListBox.ItemTemplate>

                                        <DataTemplate>

                                            <StackPanel x:Name="spIndustry" Orientation="Horizontal" Width="180" VerticalAlignment="Top" HorizontalAlignment="Left">

                                                <CheckBox Content="{Binding TagID}" IsChecked="{Binding selected,Mode=TwoWay}" Width="14" Height="14" Margin="2,2,0,0" ClickMode="Press" ></CheckBox>

                                                <TextBlock Text="{Binding TagName}" FontSize="12" FontFamily="Arial" Margin="5,0,0,0"></TextBlock>

                                            </StackPanel>

                                        </DataTemplate>

                                    </ListBox.ItemTemplate>

                                </ListBox>

                                <TextBlock  HorizontalAlignment="Right" Text="Style Tags" Visibility="Collapsed" VerticalAlignment="Top" Grid.Row="9" Grid.Column="3" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <ListBox x:Name="lstbxStyleTags" Height="250" Visibility="Collapsed" Grid.Column="5" Grid.Row="9" Width="200" Margin="0 8 0 8" HorizontalAlignment="Left" VerticalAlignment="Center" >
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel x:Name="spStyle" Orientation="Horizontal" Width="180" VerticalAlignment="Top" HorizontalAlignment="Left">
                                                <CheckBox Content="{Binding TagID}" IsChecked="{Binding selected,Mode=TwoWay}" Width="14" Height="14" Margin="2,2,0,0" ClickMode="Press"></CheckBox>
                                                <TextBlock Text="{Binding TagName}" FontSize="12" FontFamily="Arial" Margin="5,0,0,0"></TextBlock>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                </ListBox>

                                <TextBlock  HorizontalAlignment="Right" Text="Orientation" VerticalAlignment="Top" Grid.Row="10" Grid.Column="0" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <StackPanel Grid.Row="10" Grid.Column="2" Orientation="Horizontal" Height="32" HorizontalAlignment="Left" VerticalAlignment="top" Margin="0 8 0 8">
                                    <RadioButton Height="32" x:Name="rbtnOrientationHorz" GroupName="orient" Checked="rbtnOrientation_Checked" >
                                        <Image Source="/webprintDesigner;component/Images/orient-horz.png" />
                                    </RadioButton>
                                    <RadioButton Height="32" x:Name="rbtnOrientationVert" GroupName="orient" Checked="rbtnOrientation_Checked">
                                        <Image Source="/webprintDesigner;component/Images/orient-vert.png"/>
                                    </RadioButton>
                                </StackPanel>

                                <TextBlock HorizontalAlignment="Right" Text="SL Code" Grid.Row="11" VerticalAlignment="Center" Style="{StaticResource FormTextBlockStyle}" Margin="0 8 0 8" />
                                <TextBox Height="23" HorizontalAlignment="Left" Name="txtTemplateCode" VerticalAlignment="Center" Width="200" Grid.Column="2" Grid.Row="11" Style="{StaticResource INFEditableTextBoxStyle}" Margin="0 8 0 8" />

                                <Grid Grid.Row="12" Grid.Column="0" Grid.ColumnSpan="3">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80*" />
                                        <ColumnDefinition Width="87*" />
                                        <ColumnDefinition Width="63*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <Image Grid.RowSpan="2" Grid.ColumnSpan="3"></Image>
                                
                                    <TextBlock HorizontalAlignment="Center">SL Thumbnail</TextBlock>

                                    <Button x:Name="btnSLThumbnail" Grid.Row="1" Grid.Column="0" Content="..." Width="30" Click="btnSLThumbnail_Click" ></Button>

                                    <Image Name="ImgSLThumbnail" Grid.Row="2" Grid.Column="0" Width="100" Height="100"></Image>

                                    <TextBlock HorizontalAlignment="Center" Grid.Column="1">Fullview</TextBlock>

                                    <Button x:Name="btnFullView" Grid.Row="1" Grid.Column="1" Content="..." Width="30" Click="btnFullView_Click"></Button>

                                    <Image Name="ImgFullView" Grid.Row="2" Grid.Column="1" Width="100" Height="100"></Image>

                                    <TextBlock HorizontalAlignment="Center" Grid.Column="2">Superview</TextBlock>

                                    <Button x:Name="btnSuperView" Grid.Row="1" Grid.Column="2" Content="..." Width="30" Click="btnSuperView_Click"></Button>
                                    <Image Name="ImgSuperView" Grid.Row="2" Grid.Column="2" Width="100" Height="100"></Image>

                                </Grid>




                            </Grid>
                        </StackPanel>
                        <StackPanel Grid.Column="1" Grid.Row="1" HorizontalAlignment="Center">
                             <Image Height="Auto"   HorizontalAlignment="Left" Name="imgThumb" Stretch="Uniform"  Width="300" Source="{Binding Path=Thumbnail}" VerticalAlignment="Top" Margin="0 0 0 0" />
                            <TextBlock Name="lblAdminRating" Height="15" HorizontalAlignment="Center" Margin="0 15 0 0"  Text="Template Rating" VerticalAlignment="Top"  Style="{StaticResource FormTextBlockStyle}" />
                            <telerik:RadRating  NumberOfItemsToGenerate="5" Grid.Row="6" Height="20" Margin="0 5 0 0" Name="rdrAdminRating" Value="0" VerticalAlignment="Top" HorizontalAlignment="Center" Width="110"  />
                            
                        </StackPanel>


                    </Grid>
                    <Border Visibility="Collapsed" x:Name="ProgressBorder" Background="White" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Canvas.ZIndex="99" Opacity="0.8" ></Border>
                    <Border Visibility="Collapsed" x:Name="ProgressPanel" Canvas.Top="0" Canvas.Left="0" Width="180" Height="70" BorderBrush="#5C6666" Canvas.ZIndex="100" Background="#B0BABB" BorderThickness="1" CornerRadius="5 5 5 5">
                        <StackPanel Width="150" HorizontalAlignment="Center" VerticalAlignment="Center" >
                            <TextBlock x:Name="ProgessTxt" ></TextBlock>
                            <ProgressBar x:Name="ProgressBar1" IsIndeterminate="False" Background="Black" Foreground="#6F7B7B" Minimum="0" Maximum="100" Value="30" Width="150" Height="15" ></ProgressBar>
                        </StackPanel>

                    </Border>
                    
                    <my:PopupWin Name="RejectWindow" IsOpened="False" Width="400" Height="150" ShowCloseButton="False" BorderBrush="#313131" BorderThickness="5,0,5,5" ContentMargin="0"  CornerRadius="0" HeaderCornerRadius="0 0 0 0"   HeaderBackground="#313131" HeaderMargin="0" HeaderPadding="5,5,2,5"   >
                        <my:PopupWin.HeaderContent>
                            <TextBlock Foreground="White" Text="Please enter rejection reason"></TextBlock>
                        </my:PopupWin.HeaderContent>
                        
                        <StackPanel HorizontalAlignment="Stretch" Background="White">
                            <TextBox Name="txtRejectionReason" AcceptsReturn="True" Width="370" Height="70" Margin="10" />

                            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                <Button Content="OK" Height="23" Name="btnRejectionOK" Width="75" Click="btnRejectionOK_Click" />
                                <Button Content="Caancel" Height="23" Name="btnRejectionCancel" Width="75" Margin="5 0 0 0" Click="btnRejectionCancel_Click" />
                            </StackPanel>
                        </StackPanel>
                        
                        
                    </my:PopupWin>
                    
                </Grid>
            </Grid>

        </Border>

        <Border Grid.Row="2" Style="{StaticResource PageBottomRowStyle}">

            <Grid  Width="auto">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <sdk:Label Grid.Column="0" Content="" x:Name="lblTemplateSize" Foreground="White" Margin="20,0,10,0"></sdk:Label>

                <StackPanel Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right" Margin="0,0,20,0">
                    <sdk:Label Content="powered by " Foreground="White"></sdk:Label>
                    <Image Source="/webprintDesigner;component/Images/mpclogo.png" Height="20"  Margin="5" ></Image>
                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</UserControl>
